<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My URLs</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="header">
        <span class="username">Logged in as: {{.Username}}</span>
        <a href="/logout" class="logout-btn">Logout</a>
    </div>

    <div class="container">
        <h2>My Shortened URLs</h2>
        {{if .URLs}}
        <table>
            <tr>
                <th>Short Code</th>
                <th>Original URL</th>
                <th>Actions</th>
            </tr>
            {{range $code, $url := .URLs}}
            <tr>
                <td>{{$code}}</td>
                <td><a href="{{$url}}" target="_blank">{{$url}}</a></td>
                <td>
                    <button onclick="copyToClipboard('/r/{{$code}}')">Copy</button>
                    <a href="/delete/{{$code}}" onclick="return confirm('Delete this URL?')">Delete</a>
                </td>
            </tr>
            {{end}}
        </table>
        {{else}}
        <p>You have no URLs yet.</p>
        {{end}}
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert("Copied to clipboard!");
            });
        }
    </script>
</body>
</html>
