<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>URL Shortener</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="header">
        <span class="username">Logged in as: {{.Username}}</span>
        <a href="/logout" class="logout-btn">Logout</a>
    </div>

    <div class="container">
        <h2>Shorten a URL</h2>
        <form action="/shorten" method="post">
            <input type="text" name="url" placeholder="Enter URL" required>
            <input type="text" name="custom" placeholder="Custom code (optional)">
            <button type="submit">Shorten</button>
        </form>

        {{if .ShortURL}}
        <div class="result">
            <p>Short URL: <a href="{{.ShortURL}}" target="_blank">{{.ShortURL}}</a></p>
            <button onclick="copyToClipboard('{{.ShortURL}}')">Copy</button>
        </div>
        {{end}}
    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert("Copied to clipboard!");
            });
        }
    </script>
</body>
</html>
